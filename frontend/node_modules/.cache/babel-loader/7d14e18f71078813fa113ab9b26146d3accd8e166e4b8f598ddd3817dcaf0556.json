{"ast":null,"code":"import React,{useState}from\"react\";import Modal from\"./modal.js\";import\"./listing.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const stringifiedUser=window.localStorage.getItem(\"userInfo\");const currentUser=JSON.parse(stringifiedUser);const Box=_ref=>{let{info,onRemove,onClick}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"listings-box\",onClick:()=>onClick(info),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listings-box-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\".listings-box-content-header\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Listing: \",info.name]})}),/*#__PURE__*/_jsxs(\"p\",{className:\".listings-box-content-description\",children:[\"Description: \",info.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\".listings-box-content-payment\",children:[\"Payments: \",info.payments]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();// Prevent click from bubbling up to the box click\nonRemove();},children:\"Remove\"})]});};const Listing=()=>{const[boxes,setBoxes]=useState([]);const initialBoxInfo={name:\"\",contact:\"\",description:\"\"};const[newBoxInfo,setNewBoxInfo]=useState(initialBoxInfo);const[showModal,setShowModal]=useState(false);const[selectedBox,setSelectedBox]=useState(null);const handleFormSubmit=boxData=>{const newBox={id:boxes.length+1,info:boxData};setBoxes([...boxes,newBox]);setNewBoxInfo(initialBoxInfo);setShowModal(false);setNewBoxInfo(initialBoxInfo);};const handleBoxClick=boxInfo=>{setSelectedBox(boxInfo);setShowModal(true);};const removeBox=id=>{setBoxes(boxes.filter(box=>box.id!==id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"listings-box-list\",children:boxes.map(box=>/*#__PURE__*/_jsx(Box,{info:box.info,onRemove:()=>removeBox(box.id),onClick:handleBoxClick},box.id))}),/*#__PURE__*/_jsx(\"button\",{className:\"listings-add-box-button\",onClick:()=>{setShowModal(true);setSelectedBox(null);},children:\"Add Box\"}),showModal&&/*#__PURE__*/_jsx(Modal,{onModalClose:()=>{setShowModal(false);setSelectedBox(null);},onSubmit:handleFormSubmit,newBoxInfo:newBoxInfo,setNewBoxInfo:setNewBoxInfo,content:selectedBox,owner:currentUser})]});};export default Listing;","map":{"version":3,"names":["React","useState","Modal","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","stringifiedUser","window","localStorage","getItem","currentUser","JSON","parse","Box","_ref","info","onRemove","onClick","className","children","name","description","payments","e","stopPropagation","Listing","boxes","setBoxes","initialBoxInfo","contact","newBoxInfo","setNewBoxInfo","showModal","setShowModal","selectedBox","setSelectedBox","handleFormSubmit","boxData","newBox","id","length","handleBoxClick","boxInfo","removeBox","filter","box","map","onModalClose","onSubmit","content","owner"],"sources":["/Users/udit/Documents/GitHub/rentgmu/frontend/src/Components/main_page/listings/listing.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Modal from \"./modal.js\";\nimport \"./listing.css\";\n\nconst stringifiedUser = window.localStorage.getItem(\"userInfo\");\nconst currentUser = JSON.parse(stringifiedUser);\n\nconst Box = ({ info, onRemove, onClick }) => (\n  <div className=\"listings-box\" onClick={() => onClick(info)}>\n    <div className=\"listings-box-content\">\n      <div className=\".listings-box-content-header\">\n        <h2>Listing: {info.name}</h2>\n      </div>\n      <p className=\".listings-box-content-description\">\n        Description: {info.description}\n      </p>\n      <p className=\".listings-box-content-payment\">Payments: {info.payments}</p>\n    </div>\n\n    <button\n      onClick={(e) => {\n        e.stopPropagation(); // Prevent click from bubbling up to the box click\n        onRemove();\n      }}\n    >\n      Remove\n    </button>\n  </div>\n);\n\nconst Listing = () => {\n  const [boxes, setBoxes] = useState([]);\n  const initialBoxInfo = { name: \"\", contact: \"\", description: \"\" };\n  const [newBoxInfo, setNewBoxInfo] = useState(initialBoxInfo);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedBox, setSelectedBox] = useState(null);\n\n  const handleFormSubmit = (boxData) => {\n    const newBox = {\n      id: boxes.length + 1,\n      info: boxData,\n    };\n    setBoxes([...boxes, newBox]);\n    setNewBoxInfo(initialBoxInfo);\n    setShowModal(false);\n    setNewBoxInfo(initialBoxInfo);\n  };\n\n  const handleBoxClick = (boxInfo) => {\n    setSelectedBox(boxInfo);\n    setShowModal(true);\n  };\n\n  const removeBox = (id) => {\n    setBoxes(boxes.filter((box) => box.id !== id));\n  };\n\n  return (\n    <>\n      <div className=\"listings-box-list\">\n        {boxes.map((box) => (\n          <Box\n            key={box.id}\n            info={box.info}\n            onRemove={() => removeBox(box.id)}\n            onClick={handleBoxClick}\n          />\n        ))}\n      </div>\n      <button\n        className=\"listings-add-box-button\"\n        onClick={() => {\n          setShowModal(true);\n          setSelectedBox(null);\n        }}\n      >\n        Add Box\n      </button>\n      {showModal && (\n        <Modal\n          onModalClose={() => {\n            setShowModal(false);\n            setSelectedBox(null);\n          }}\n          onSubmit={handleFormSubmit}\n          newBoxInfo={newBoxInfo}\n          setNewBoxInfo={setNewBoxInfo}\n          content={selectedBox}\n          owner={currentUser}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Listing;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,YAAY,CAC9B,MAAO,eAAe,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEvB,KAAM,CAAAC,eAAe,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC/D,KAAM,CAAAC,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACN,eAAe,CAAC,CAE/C,KAAM,CAAAO,GAAG,CAAGC,IAAA,MAAC,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAH,IAAA,oBACtCb,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAACD,OAAO,CAAEA,CAAA,GAAMA,OAAO,CAACF,IAAI,CAAE,CAAAI,QAAA,eACzDlB,KAAA,QAAKiB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnChB,IAAA,QAAKe,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3ClB,KAAA,OAAAkB,QAAA,EAAI,WAAS,CAACJ,IAAI,CAACK,IAAI,EAAK,CAAC,CAC1B,CAAC,cACNnB,KAAA,MAAGiB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,eAClC,CAACJ,IAAI,CAACM,WAAW,EAC7B,CAAC,cACJpB,KAAA,MAAGiB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EAAC,YAAU,CAACJ,IAAI,CAACO,QAAQ,EAAI,CAAC,EACvE,CAAC,cAENnB,IAAA,WACEc,OAAO,CAAGM,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAE;AACrBR,QAAQ,CAAC,CAAC,CACZ,CAAE,CAAAG,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,EACP,CAED,KAAM,CAAAM,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAA8B,cAAc,CAAG,CAAER,IAAI,CAAE,EAAE,CAAES,OAAO,CAAE,EAAE,CAAER,WAAW,CAAE,EAAG,CAAC,CACjE,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGjC,QAAQ,CAAC8B,cAAc,CAAC,CAC5D,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACoC,WAAW,CAAEC,cAAc,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAAAsC,gBAAgB,CAAIC,OAAO,EAAK,CACpC,KAAM,CAAAC,MAAM,CAAG,CACbC,EAAE,CAAEb,KAAK,CAACc,MAAM,CAAG,CAAC,CACpBzB,IAAI,CAAEsB,OACR,CAAC,CACDV,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAEY,MAAM,CAAC,CAAC,CAC5BP,aAAa,CAACH,cAAc,CAAC,CAC7BK,YAAY,CAAC,KAAK,CAAC,CACnBF,aAAa,CAACH,cAAc,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAa,cAAc,CAAIC,OAAO,EAAK,CAClCP,cAAc,CAACO,OAAO,CAAC,CACvBT,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAAU,SAAS,CAAIJ,EAAE,EAAK,CACxBZ,QAAQ,CAACD,KAAK,CAACkB,MAAM,CAAEC,GAAG,EAAKA,GAAG,CAACN,EAAE,GAAKA,EAAE,CAAC,CAAC,CAChD,CAAC,CAED,mBACEtC,KAAA,CAAAI,SAAA,EAAAc,QAAA,eACEhB,IAAA,QAAKe,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BO,KAAK,CAACoB,GAAG,CAAED,GAAG,eACb1C,IAAA,CAACU,GAAG,EAEFE,IAAI,CAAE8B,GAAG,CAAC9B,IAAK,CACfC,QAAQ,CAAEA,CAAA,GAAM2B,SAAS,CAACE,GAAG,CAACN,EAAE,CAAE,CAClCtB,OAAO,CAAEwB,cAAe,EAHnBI,GAAG,CAACN,EAIV,CACF,CAAC,CACC,CAAC,cACNpC,IAAA,WACEe,SAAS,CAAC,yBAAyB,CACnCD,OAAO,CAAEA,CAAA,GAAM,CACbgB,YAAY,CAAC,IAAI,CAAC,CAClBE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAE,CAAAhB,QAAA,CACH,SAED,CAAQ,CAAC,CACRa,SAAS,eACR7B,IAAA,CAACJ,KAAK,EACJgD,YAAY,CAAEA,CAAA,GAAM,CAClBd,YAAY,CAAC,KAAK,CAAC,CACnBE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAE,CACFa,QAAQ,CAAEZ,gBAAiB,CAC3BN,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAC7BkB,OAAO,CAAEf,WAAY,CACrBgB,KAAK,CAAExC,WAAY,CACpB,CACF,EACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}