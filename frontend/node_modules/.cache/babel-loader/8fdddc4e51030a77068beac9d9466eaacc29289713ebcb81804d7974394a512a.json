{"ast":null,"code":"import React,{useState}from\"react\";import\"./modal.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const APIendpoint=\"https://3x5nwysg5e.execute-api.us-east-1.amazonaws.com/default/rent_gmu\";const stringifiedUser=window.localStorage.getItem(\"userInfo\");const currentUser=JSON.parse(stringifiedUser);export default function Modal(_ref){let{onSubmit,onModalClose,newBoxInfo,setNewBoxInfo,content,owner}=_ref;const sendRequest=async()=>{try{const message=\"Hello \"+owner.Name+\", \"+currentUser.Name+\" is requesting to rent your item: [\"+content.name+\"]. Please contact them with this phone number: \"+currentUser.Phone;const ownerNum=\"+1\"+owner.Phone;const response=await fetch(APIendpoint,{method:\"POST\",body:JSON.stringify({Text:message,Phone:ownerNum})});if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}}catch(error){console.error(\"Error fetching data:\",error);}};const[modal,setModal]=useState(false);// const toggleModal = () => {\n//   setModal(!modal);\n// };\nif(modal){document.body.classList.add(\"active-modal\");}else{document.body.classList.remove(\"active-modal\");}const handleSubmit=e=>{e.preventDefault();onSubmit(newBoxInfo);// This will pass the newBoxInfo state up to the parent component\nonModalClose();// This will close the modal\n};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:onModalClose,className:\"overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[content?/*#__PURE__*/ // Display the clicked box's details\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:content.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",content.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Payments: \",content.payments]}),/*#__PURE__*/_jsx(\"button\",{onClick:sendRequest,className:\"modal-rent-item-btn\",children:\"Rent Item\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Listing\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBoxInfo.name,onChange:e=>setNewBoxInfo({...newBoxInfo,name:e.target.value}),required:true,className:\"modal-entry\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBoxInfo.description,onChange:e=>setNewBoxInfo({...newBoxInfo,description:e.target.value}),required:true,className:\"modal-entry\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Payment Methods:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBoxInfo.payments,onChange:e=>setNewBoxInfo({...newBoxInfo,payments:e.target.value}),required:true,className:\"modal-entry\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Image:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setNewBoxInfo({...newBoxInfo,image:e.target.files[0]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-submit\",type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-modal\",onClick:onModalClose,children:\"Close\"})]})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","APIendpoint","stringifiedUser","window","localStorage","getItem","currentUser","JSON","parse","Modal","_ref","onSubmit","onModalClose","newBoxInfo","setNewBoxInfo","content","owner","sendRequest","message","Name","name","Phone","ownerNum","response","fetch","method","body","stringify","Text","ok","Error","concat","status","error","console","modal","setModal","document","classList","add","remove","handleSubmit","e","preventDefault","children","className","onClick","description","payments","type","value","onChange","target","required","image","files"],"sources":["/Users/udit/Documents/GitHub/rentgmu/frontend/src/Components/main_page/listings/modal.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./modal.css\";\n\n\nconst APIendpoint =\n  \"https://3x5nwysg5e.execute-api.us-east-1.amazonaws.com/default/rent_gmu\";\nconst stringifiedUser = window.localStorage.getItem(\"userInfo\");\nconst currentUser = JSON.parse(stringifiedUser);\n\nexport default function Modal({\n  onSubmit,\n  onModalClose,\n  newBoxInfo,\n  setNewBoxInfo,\n  content,\n  owner,\n}) {\n  const sendRequest = async () => {\n    try {\n      const message =\n        \"Hello \" +\n        owner.Name +\n        \", \" +\n        currentUser.Name +\n        \" is requesting to rent your item: [\" +\n        content.name +\n        \"]. Please contact them with this phone number: \" +\n        currentUser.Phone;\n\n      const ownerNum = \"+1\" + owner.Phone;\n      const response = await fetch(APIendpoint, {\n        method: \"POST\",\n        body: JSON.stringify({ Text: message, Phone: ownerNum }),\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  const [modal, setModal] = useState(false);\n\n  // const toggleModal = () => {\n  //   setModal(!modal);\n  // };\n\n  if (modal) {\n    document.body.classList.add(\"active-modal\");\n  } else {\n    document.body.classList.remove(\"active-modal\");\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(newBoxInfo); // This will pass the newBoxInfo state up to the parent component\n    onModalClose(); // This will close the modal\n  };\n\n  return (\n    <>\n      <div className=\"modal\">\n        <div onClick={onModalClose} className=\"overlay\"></div>\n        <div className=\"modal-content\">\n          {content ? (\n            // Display the clicked box's details\n            <>\n              <h2>{content.name}</h2>\n              <p>Description: {content.description}</p>\n              <p>Payments: {content.payments}</p>\n              <button onClick={sendRequest} className=\"modal-rent-item-btn\">\n                Rent Item\n              </button>\n            </>\n          ) : (\n            <form onSubmit={handleSubmit} className=\"modal-form\">\n              <h2>Add New Listing</h2>\n              <div>\n                Name:\n                <input\n                  type=\"text\"\n                  value={newBoxInfo.name}\n                  onChange={(e) =>\n                    setNewBoxInfo({ ...newBoxInfo, name: e.target.value })\n                  }\n                  required\n                  className=\"modal-entry\"\n                />\n              </div>\n              <div>\n                Description:\n                <input\n                  type=\"text\"\n                  value={newBoxInfo.description}\n                  onChange={(e) =>\n                    setNewBoxInfo({\n                      ...newBoxInfo,\n                      description: e.target.value,\n                    })\n                  }\n                  required\n                  className=\"modal-entry\"\n                />\n              </div>\n              <div>\n                Payment Methods:\n                <input\n                  type=\"text\"\n                  value={newBoxInfo.payments}\n                  onChange={(e) =>\n                    setNewBoxInfo({ ...newBoxInfo, payments: e.target.value })\n                  }\n                  required\n                  className=\"modal-entry\"\n                />\n              </div>\n              <div>\n                Image:\n                <input\n                  type=\"file\"\n                  onChange={(e) =>\n                    setNewBoxInfo({ ...newBoxInfo, image: e.target.files[0] })\n                  }\n                />\n              </div>\n              <button className=\"modal-submit\" type=\"submit\">\n                Submit\n              </button>\n            </form>\n          )}\n          <button className=\"close-modal\" onClick={onModalClose}>\n            Close\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}